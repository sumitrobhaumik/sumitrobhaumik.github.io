<html>
	<head>
		<title>Sumitro's Corner</title>
		<link rel="stylesheet" href="/typora-theme-next/next.css">
		<!--link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@400;700&display=swap" rel="stylesheet"-->
		<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&family=Oxygen:wght@400;700&display=swap" rel="stylesheet"> 
	</head>
	<body>
		<div class="div_header" style="background-color:green;">
			<div style="float:left">
				<a href="/index.html"><b>Sumitro's Corner</b></a>
			</div>
			<div style="float:right">
				<a href="/about.html">About Me</a> |
				<a href="/contact.html">Contact</a> |
				<a href="/posts.html">Posts</a>
			</div>
		</div>
		<br>
		<br>
		<div class="div_body" style="backgroun-color:grey">
<h1 id="Truly%20Minimal%20Ubuntu%20Installation%20with%20a%20Window%20Manager">Truly Minimal Ubuntu Installation with a Window Manager</h1>

<p>I wanted to a have a real minimal linux installtion where I could decide exactly what packages I want.
To truly embrace this ideology, you have to use Arch Linux, and being me, I was just too afraid to try it out.
I eventually did, but that&#39;s for another day.</p>

<p>Ubuntu has a minimal installation option but I it&#39;s still not minimal enough.
The only way forward is to install the server edition of Ubuntu and then install your graphical environment.
I&#39;ve decided to use the i3 window manager.</p>

<h2 id="Assumptions">Assumptions</h2>

<ol start="1">
<li>You have a basic Ubuntu installation, possibly Ubuntu Server 20.04</li>
<li>You have set up proper network connectivity</li>
<li>You have root access</li>
</ol>

<h2 id="Pre-installation%20Steps">Pre-installation Steps</h2>

<p>We need to have the building blocks of a graphical UI, for which we need <code>xorg</code>.</p>

<pre><code>sudo apt install xorg xinit
</code></pre>

<p>We now need to be able to compile <code>i3</code>.
We can use the <code>i3</code> from <code>apt</code>, but I prefer to use <code>i3-gaps</code> which looks a bit nicer and is unfortunately not availble in the repos.</p>

<p>Hence, we need the following packages for compiling and making.</p>

<pre><code>sudo apt install git make gcc autoconf
</code></pre>

<p>Now, we install all the dependancies of <code>i3-gaps</code></p>

<pre><code>sudo apt install libpango1.0-dev libyajl-dev libstartup-notification0-dev \
libev-dev libtool libxkbcommon-dev libxkbcommon-x11-dev libxcb1-dev libxcb-randr0-dev \
libxcb-util0-dev libxcb-icccm4-dev libxcb-keysyms1-dev libxcb-cursor-dev \
libxcb-xinerama0-dev libxcb-xkb-dev libxcb-shape0-dev libxcb-xrm-dev xutils-dev
</code></pre>

<h3 id="Installing%20i3">Installing i3</h3>

<p><a href="https://github.com/pasiegel/i3-gaps-install-ubuntu">Source</a></p>

<p>Now that our build environment is ready, we can compile and install <code>i3</code></p>

<p>There are 3 popular versions of <code>i3</code> that I know of</p>

<ol start="1">
<li>The original <a href="https://github.com/i3/i3"><code>i3</code></a></li>
<li><a href="https://github.com/Airblader/i3"><code>i3-gaps</code></a> by <a href="https://github.com/Airblader">Airblader</a> which has support for gaps between windows</li>
<li><a href="https://github.com/resloved/i3"><code>i3-gaps</code></a> by <a href="https://github.com/resloved">resolved</a> which has support for rounded corner for windows</li>
</ol>

<p>I prefer installing <a href="https://github.com/resloved/i3"><code>i3-gaps</code></a> by resolved.
However, the installation procedure is the same for all variants.
Also, this might be a few commits behind <code>i3-gaps</code>.</p>

<p>So clone, make and install <code>i3</code></p>

<pre><code>git clone https:&#47;&#47;github.com&#47;resloved&#47;i3
cd i3
autoreconf --force --install
rm -rf build
mkdir build
cd build
..&#47;configure --prefix=&#47;usr --sysconfdir=&#47;etc
make
sudo make install
</code></pre>

<p>At this point, your <code>i3</code> installation is complete.</p>

<p>Note : In case you get a dependancy error (there shouldn&#39;t be any), read the error output carefully. 
Install the missing packages and repeat the above step from scratch.</p>

<h2 id="Enabling%20i3%20to%20run%20after%20login">Enabling i3 to run after login</h2>

<p>Till now, your <code>i3</code> is ready but you need a way to initiate it after logging in.
Which is why we installed <code>xinit</code>.</p>

<ol start="1">
<li><p>Create <code>~&#47;.xinitrc</code> and edit it as follows</p>

<pre><code>#!&#47;bin&#47;sh

exec &#47;usr&#47;bin&#47;i3
</code></pre></li>
<li><p>Run <code>startx</code> in the terminal</p></li>
<li><p>Your <code>i3</code> WM should start up</p></li>
</ol>

<p>Now you have a minimal install of Ubuntu, running <code>i3</code>.
To make it more usable, you need to install a status bar.
<code>i3</code> itself comes with <code>i3-bar</code> but I prefer to use <a href="https://github.com/polybar/polybar"><code>polybar</code></a>.</p>

<p>Keep in mind, this setup is so barebones that some functions, that we take for granted in a standard &#8220;bloated&#8221; DEs, are missing.
You need to create scripts for them OR find lightweight alternatives.</p>

<p>Some common requirements are</p>

<ol start="1">
<li>Login manager or a display manager, such as <code>gdm</code>, <code>lightdm</code></li>
<li>Program launcher - I use <code>rofi</code></li>
<li>Poweroff&#47;reboot&#47;logout menu - I use <code>rofi</code> for this as well</li>
<li>Display auto-detection system - I use <code>xrandr</code></li>
<li>Notification manager - I use <code>dunst</code></li>
<li>Wallpaper manager - I use <code>nitrogen</code></li>
</ol>

<p>A good thing about all the above mentioned programs is that they are highly customizable, so you can set it exactly how you want it.
You can think that you are creating your own &#8220;distro&#8221;.</p>
	<br>
	<br>
	<br>
	<br>
	<br>
	</div>
	<br>
	By <b>Sumitro Bhaumik</b>. Copyright 2020.

	</body>

</html>
